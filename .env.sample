# ============================================================================
# 浼佷笟绾х甯﹀浠界郴缁?- 閰嶇疆鏂囦欢妯℃澘
# Enterprise Tape Backup System - Configuration Template
# ============================================================================
#
# 浣跨敤璇存槑锛?# 1. 澶嶅埗姝ゆ枃浠朵负 .env锛歝p .env.sample .env  (Linux) 鎴?copy .env.sample .env (Windows)
# 2. 鏍规嵁瀹為檯鐜淇敼鐩稿簲閰嶇疆
# 3. 鏁忔劅淇℃伅锛堝瘑鐮併€佸瘑閽ョ瓑锛夎濡ュ杽淇濈锛屼笉瑕佹彁浜ゅ埌鐗堟湰鎺у埗绯荤粺
#
# ============================================================================

# ----------------------------------------------------------------------------
# 搴旂敤鍩虹閰嶇疆
# ----------------------------------------------------------------------------
# 搴旂敤鍚嶇О
APP_NAME=浼佷笟绾х甯﹀浠界郴缁?
# 璋冭瘯妯″紡锛歵rue=寮€鍙戞ā寮忥紝false=鐢熶骇妯″紡
# 寮€鍙戞ā寮忎笅浼氭樉绀鸿缁嗛敊璇俊鎭紝鐢熶骇鐜璇疯缃负 false
DEBUG=false

# 杩愯鐜锛歞evelopment锛堝紑鍙戯級/ production锛堢敓浜э級/ testing锛堟祴璇曪級
ENVIRONMENT=production

# ----------------------------------------------------------------------------
# Web 鏈嶅姟鍣ㄩ厤缃?# ----------------------------------------------------------------------------
# Web 鏈嶅姟鐩戝惉鍦板潃锛?.0.0.0 琛ㄧず鐩戝惉鎵€鏈夌綉缁滄帴鍙?WEB_HOST=0.0.0.0

# Web 鏈嶅姟绔彛鍙?WEB_PORT=8081

# Web 鏈嶅姟宸ヤ綔鑰呰繘绋嬫暟锛堝缓璁缃负 CPU 鏍稿績鏁帮級
WEB_WORKERS=4

# Web 闈欐€佹枃浠剁洰褰曪紙CSS銆丣S銆佸浘鐗囩瓑锛?WEB_STATIC_DIR=web/static

# Web 妯℃澘鏂囦欢鐩綍锛圚TML 妯℃澘锛?WEB_TEMPLATE_DIR=web/templates

# 鏈€澶т笂浼犳枃浠跺ぇ灏忥紙瀛楄妭锛夛紝榛樿 1GB = 1073741824
MAX_UPLOAD_SIZE=1073741824

# 鏄惁鍚敤 CORS锛堣法鍩熻祫婧愬叡浜級
# true=鍏佽璺ㄥ煙璁块棶锛宖alse=绂佹璺ㄥ煙璁块棶
ENABLE_CORS=true

# CORS 鍏佽鐨勬潵婧愶紙* 琛ㄧず鍏佽鎵€鏈夋潵婧愶級
# 鐢熶骇鐜寤鸿璁剧疆涓哄叿浣撶殑鍩熷悕锛屽锛歨ttp://192.168.0.28:8081
CORS_ORIGINS=*

# 鏄惁鍚敤 GZIP 鍘嬬缉锛堝帇缂╁搷搴斿唴瀹癸紝鎻愰珮浼犺緭鏁堢巼锛?ENABLE_GZIP=true

# ----------------------------------------------------------------------------
# 鏁版嵁搴撻厤缃紙鎺ㄨ崘浣跨敤 openGauss锛?# ----------------------------------------------------------------------------
# 鏁版嵁搴撹繛鎺?URL锛堟帹鑽愪娇鐢ㄦ鏂瑰紡锛?# 鏍煎紡锛歰pengauss://鐢ㄦ埛鍚?瀵嗙爜@涓绘満:绔彛/鏁版嵁搴撳悕
# 绀轰緥锛歰pengauss://username:password@192.168.0.20:5560/backup_db
DATABASE_URL=opengauss://username:password@localhost:5432/backup_db

# 鏁版嵁搴撹繛鎺ュ弬鏁帮紙鍙€夛紝濡傛灉璁剧疆浜?DATABASE_URL锛岃繖浜涘弬鏁颁細琚拷鐣ワ級
# 鏁版嵁搴撲富鏈哄湴鍧€
DB_HOST=localhost

# 鏁版嵁搴撶鍙ｅ彿锛坥penGauss 榛樿绔彛锛?432锛?DB_PORT=5432

# 鏁版嵁搴撶敤鎴峰悕
DB_USER=username

# 鏁版嵁搴撳瘑鐮侊紙璇蜂慨鏀逛负瀹為檯瀵嗙爜锛?DB_PASSWORD=password

# 鏁版嵁搴撳悕绉?DB_DATABASE=backup_db

# 鏁版嵁搴撹繛鎺ユ睜澶у皬锛堝悓鏃朵繚鎸佺殑杩炴帴鏁帮級
DB_POOL_SIZE=10

# 鏁版嵁搴撹繛鎺ユ睜鏈€澶ф孩鍑烘暟锛堣秴鍑鸿繛鎺ユ睜澶у皬鐨勯澶栬繛鎺ユ暟锛?DB_MAX_OVERFLOW=20

# SQLite 閰嶇疆锛堜粎鐢ㄤ簬寮€鍙?娴嬭瘯锛岀敓浜х幆澧冧笉鎺ㄨ崘锛?# DATABASE_URL=sqlite:///./data/taf_backup.db

# ----------------------------------------------------------------------------
# 瀹夊叏閰嶇疆
# ----------------------------------------------------------------------------
# JWT 瀵嗛挜锛堢敤浜庣敓鎴愬拰楠岃瘉璁块棶浠ょ墝锛?# 鐢熶骇鐜璇蜂娇鐢ㄥ己瀵嗛挜锛岀敓鎴愭柟寮忥細python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-jwt-secret-key-change-in-production

# JWT 绠楁硶锛堥€氬父浣跨敤 HS256锛?ALGORITHM=HS256

# 璁块棶浠ょ墝杩囨湡鏃堕棿锛堝垎閽燂級
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ----------------------------------------------------------------------------
# 纾佸甫璁惧閰嶇疆
# ----------------------------------------------------------------------------
# Windows 纾佸甫椹卞姩鍣ㄧ洏绗︼紙澶у啓锛屼笉甯﹀啋鍙凤紝LTFS 鍛戒护浣跨敤锛?# 渚嬪锛歄 琛ㄧず O: 鐩?TAPE_DRIVE_LETTER=O

# 榛樿鏁版嵁鍧楀ぇ灏忥紙瀛楄妭锛夛紝256KB = 262144
# 褰卞搷纾佸甫璇诲啓鎬ц兘锛岄€氬父涓嶉渶瑕佷慨鏀?DEFAULT_BLOCK_SIZE=262144

# 鏈€澶у嵎澶у皬锛堝瓧鑺傦級锛?00GB = 322122547200
# 鍗曚釜纾佸甫鐨勬渶澶у閲忛檺鍒?MAX_VOLUME_SIZE=322122547200

# Linux 纾佸甫璁惧璺緞锛堝彲閫夛紝Windows 绯荤粺鍙拷鐣ワ級
# 渚嬪锛?dev/nst0 琛ㄧず绗竴涓甯﹁澶?TAPE_DEVICE_PATH=/dev/nst0

# ----------------------------------------------------------------------------
# ITDT 鎺ュ彛閰嶇疆
# ----------------------------------------------------------------------------
# 纾佸甫鎺ュ彛绫诲瀷锛歩tdt锛堜娇鐢?IBM ITDT 宸ュ叿锛?TAPE_INTERFACE_TYPE=itdt

# ITDT 宸ュ叿璺緞锛圵indows 绯荤粺锛?# 璇锋牴鎹疄闄呭畨瑁呰矾寰勪慨鏀?ITDT_PATH=D:\APP\TAF\ITDT\itdt.exe

# ITDT 鏃ュ織绾у埆锛欵rrors锛堜粎閿欒锛? Warnings锛堣鍛婂強浠ヤ笂锛? Information锛堜俊鎭強浠ヤ笂锛? Debug锛堣皟璇曪級
ITDT_LOG_LEVEL=Information

# ITDT 鏃ュ織杈撳嚭鐩綍
ITDT_LOG_PATH=output

# LTFS 宸ュ叿鐩綍锛堝繀椤诲湪 LTFS 绋嬪簭鐩綍涓嬫墽琛屽懡浠わ級
# Windows 绯荤粺璇锋牴鎹疄闄呭畨瑁呰矾寰勪慨鏀?LTFS_TOOLS_DIR=D:\APP\TAF\ITDT

# ITDT 缁撴灉杈撳嚭璺緞
ITDT_RESULT_PATH=output

# ITDT 璁惧璺緞锛堝彲閫夛紝鐣欑┖琛ㄧず鑷姩妫€娴嬶級
ITDT_DEVICE_PATH=

# 鏄惁寮哄埗浣跨敤閫氱敤椹卞姩锛堝綋娌℃湁涓撶敤椹卞姩鏃讹級
# true=鍏佽浣跨敤閫氱敤椹卞姩锛宖alse=蹇呴』浣跨敤涓撶敤椹卞姩
ITDT_FORCE_GENERIC_DD=true

# 鎵弿鏃舵槸鍚︽樉绀烘墍鏈夎矾寰?# true=鏄剧ず鎵€鏈夎矾寰勶紝false=浠呮樉绀鸿澶囪矾寰?ITDT_SCAN_SHOW_ALL_PATHS=true

# ----------------------------------------------------------------------------
# 纾佸甫绠＄悊閰嶇疆
# ----------------------------------------------------------------------------
# 纾佸甫姹犲ぇ灏忥紙绯荤粺涓鐞嗙殑鏈€澶х甯︽暟閲忥級
TAPE_POOL_SIZE=12

# 纾佸甫鐘舵€佹鏌ラ棿闅旓紙绉掞級
# 绯荤粺浼氬畾鏈熸鏌ョ甯︾姸鎬侊紝3600 绉?= 1 灏忔椂
TAPE_CHECK_INTERVAL=3600

# 鏄惁鑷姩娓呯悊杩囨湡纾佸甫
# true=鑷姩娓呯悊锛宖alse=鎵嬪姩娓呯悊
AUTO_TAPE_CLEANUP=true

# ----------------------------------------------------------------------------
# 鍘嬬缉閰嶇疆
# ----------------------------------------------------------------------------
# 鍘嬬缉绾у埆锛?-9锛?=涓嶅帇缂╋紝9=鏈€楂樺帇缂╃巼锛?# 鍘嬬缉绾у埆瓒婇珮锛屽帇缂╃巼瓒婇珮锛屼絾鍘嬬缉閫熷害瓒婃參
COMPRESSION_LEVEL=9

# 鍘嬬缉鍧楀ぇ灏忥紙瀛楄妭锛夛紝64MB = 67108864
# 褰卞搷鍘嬬缉鎬ц兘鍜屽唴瀛樹娇鐢?SOLID_BLOCK_SIZE=67108864

# 鍗曚釜鍘嬬缉鏂囦欢鏈€澶уぇ灏忥紙瀛楄妭锛夛紝3GB = 3221225472
# 瓒呰繃姝ゅぇ灏忕殑鏂囦欢浼氳鍒嗗壊鎴愬涓帇缂╁寘
MAX_FILE_SIZE=3221225472

# 鍘嬬缉绾跨▼鏁帮紙澶氱嚎绋嬪帇缂╋紝鎻愰珮鍘嬬缉閫熷害锛?# 寤鸿璁剧疆涓?CPU 鏍稿績鏁?COMPRESSION_THREADS=4

# ----------------------------------------------------------------------------
# 鎵弿鎵规閰嶇疆
# ----------------------------------------------------------------------------
# 鎵弿鎵规澶у皬锛堟枃浠舵暟锛夛細鎵弿鍒板灏戞枃浠跺悗寮€濮嬪帇缂?# 榛樿 3000 涓枃浠讹紝鍙牴鎹疄闄呮儏鍐佃皟鏁?SCAN_BATCH_SIZE=3000

# 鎵弿鎵规澶у皬锛堝瓧鑺傦級锛氭壂鎻忓埌澶氬皯瀛楄妭鍚庡紑濮嬪帇缂?# 榛樿 3GB = 3221225472锛屼笌 MAX_FILE_SIZE 鐩稿悓
# 褰撴壂鎻忕殑鏂囦欢鏁版垨鎬诲ぇ灏忚揪鍒颁换涓€闃堝€兼椂锛屽紑濮嬪帇缂?SCAN_BATCH_SIZE_BYTES=3221225472

# ----------------------------------------------------------------------------
# 澶囦唤閰嶇疆
# ----------------------------------------------------------------------------
# 澶囦唤涓存椂鐩綍锛堝浠借繃绋嬩腑涓存椂鏂囦欢鐨勫瓨鍌ㄤ綅缃級
BACKUP_TEMP_DIR=temp/backup

# 鎭㈠涓存椂鐩綍锛堟仮澶嶈繃绋嬩腑涓存椂鏂囦欢鐨勫瓨鍌ㄤ綅缃級
RECOVERY_TEMP_DIR=temp/recovery

# 榛樿淇濈暀鏈燂紙鏈堬級
# 纾佸甫鏁版嵁淇濈暀澶氶暱鏃堕棿鍚庡彲浠ユ摝闄?DEFAULT_RETENTION_MONTHS=6

# 鏄惁鑷姩鎿﹂櫎杩囨湡纾佸甫
# true=鑷姩鎿﹂櫎锛宖alse=鎵嬪姩鎿﹂櫎
AUTO_ERASE_EXPIRED=true

# ----------------------------------------------------------------------------
# 璁″垝浠诲姟閰嶇疆
# ----------------------------------------------------------------------------
# 鏄惁鍚敤璁″垝浠诲姟璋冨害鍣?SCHEDULER_ENABLED=true

# 鏈堝害澶囦唤 Cron 琛ㄨ揪寮忥紙宸插簾寮冿紝璁″垝浠诲姟閫氳繃 Web 鐣岄潰鍒涘缓锛?# 鏍煎紡锛氬垎 鏃?鏃?鏈?鍛?# 绀轰緥锛? 2 1 * * 琛ㄧず姣忔湀1鍙?2:00鎵ц
MONTHLY_BACKUP_CRON=0 2 1 * *

# 淇濈暀鏈熸鏌?Cron 琛ㄨ揪寮忥紙宸插簾寮冿紝鏀逛负鍦ㄦ墦寮€纾佸甫绠＄悊椤甸潰鏃舵鏌ワ級
# 鏍煎紡锛氬垎 鏃?鏃?鏈?鍛?# 绀轰緥锛? 3 * * * 琛ㄧず姣忓ぉ03:00鎵ц
RETENTION_CHECK_CRON=0 3 * * *

# ----------------------------------------------------------------------------
# 閽夐拤閫氱煡閰嶇疆
# ----------------------------------------------------------------------------
# 閽夐拤閫氱煡 API 鍦板潃
# 璇锋牴鎹疄闄呴儴缃茬殑閽夐拤閫氱煡鏈嶅姟鍦板潃淇敼
DINGTALK_API_URL=http://localhost:5555

# 閽夐拤 API 瀵嗛挜锛堣淇敼涓哄疄闄呯殑 API 瀵嗛挜锛?DINGTALK_API_KEY=your-dingtalk-api-key

# 閽夐拤榛樿鎺ユ敹閫氱煡鐨勬墜鏈哄彿
DINGTALK_DEFAULT_PHONE=13800000000

# ----------------------------------------------------------------------------
# 鏃ュ織閰嶇疆
# ----------------------------------------------------------------------------
# 鏃ュ織绾у埆锛欴EBUG / INFO / WARNING / ERROR / CRITICAL
# DEBUG=璇︾粏璋冭瘯淇℃伅锛孖NFO=涓€鑸俊鎭紝WARNING=璀﹀憡锛孍RROR=閿欒锛孋RITICAL=涓ラ噸閿欒
LOG_LEVEL=INFO

# 鏃ュ織鏂囦欢璺緞
LOG_FILE=logs/application.log

# 鏃ュ織澶囦唤鏂囦欢鏁伴噺锛堜繚鐣欏灏戜釜鍘嗗彶鏃ュ織鏂囦欢锛?LOG_BACKUP_COUNT=30

# ----------------------------------------------------------------------------
# 鐩戞帶閰嶇疆
# ----------------------------------------------------------------------------
# 鏄惁鍚敤鐩戞帶鎸囨爣鏀堕泦
METRICS_ENABLED=true

# 鍋ュ悍妫€鏌ラ棿闅旓紙绉掞級
# 绯荤粺浼氬畾鏈熸墽琛屽仴搴锋鏌ワ紝300 绉?= 5 鍒嗛挓
HEALTH_CHECK_INTERVAL=300

# ----------------------------------------------------------------------------
# 楂樼骇閰嶇疆
# ----------------------------------------------------------------------------
# 寮傛杩炴帴姹犲ぇ灏忥紙寮傛鎿嶄綔鐨勫苟鍙戣繛鎺ユ暟锛?ASYNC_POOL_SIZE=20

# 寮傛杩炴帴姹犳渶澶ф孩鍑烘暟
ASYNC_MAX_OVERFLOW=40

# 鏄惁鍚敤鏌ヨ缂撳瓨锛堢紦瀛樻暟鎹簱鏌ヨ缁撴灉锛屾彁楂樻€ц兘锛?ENABLE_QUERY_CACHE=true

# 鏌ヨ缂撳瓨 TTL锛堢锛夛紝缂撳瓨鏈夋晥鏈?QUERY_CACHE_TTL=300

# WebSocket 蹇冭烦闂撮殧锛堢锛?# WebSocket 杩炴帴淇濇寔娲昏穬鐨勫績璺抽棿闅?WEBSOCKET_HEARTBEAT=30

# 浼氳瘽瓒呮椂鏃堕棿锛堢锛?# 鐢ㄦ埛浼氳瘽鍦ㄥ闀挎椂闂存棤娲诲姩鍚庤繃鏈燂紝3600 绉?= 1 灏忔椂
SESSION_TIMEOUT=3600

# ----------------------------------------------------------------------------
# 鏁版嵁鐩綍閰嶇疆
# ----------------------------------------------------------------------------
# 鏁版嵁鐩綍锛堝瓨鍌ㄦ暟鎹簱鏂囦欢绛夛級
DATA_DIR=data

# SQLite 鏁版嵁搴撴枃浠惰矾寰勶紙浠呯敤浜庡紑鍙?娴嬭瘯锛?SQLITE_DB_FILE=data/taf_backup.db

# ----------------------------------------------------------------------------
# 閫氱煡浜嬩欢閰嶇疆锛圝SON 鏍煎紡锛?# ----------------------------------------------------------------------------
# 閰嶇疆鍝簺浜嬩欢闇€瑕佸彂閫侀€氱煡
# 鏍煎紡锛歿"浜嬩欢鍚?: true/false}
# true=鍙戦€侀€氱煡锛宖alse=涓嶅彂閫侀€氱煡
NOTIFICATION_EVENTS={"notify_backup_success": true, "notify_backup_started": true, "notify_backup_failed": true, "notify_recovery_success": true, "notify_recovery_failed": true, "notify_tape_change": true, "notify_tape_expired": true, "notify_tape_error": true, "notify_capacity_warning": true, "notify_system_error": true, "notify_system_started": false}

# ----------------------------------------------------------------------------
# 纾佸甫璁惧缂撳瓨锛堣嚜鍔ㄧ敓鎴愶紝涓€鑸笉闇€瑕佹墜鍔ㄤ慨鏀癸級
# ----------------------------------------------------------------------------
# 绯荤粺浼氳嚜鍔ㄦ壂鎻忓苟缂撳瓨纾佸甫璁惧淇℃伅
# 鏍煎紡锛欽SON 鏁扮粍锛屽寘鍚澶囪矾寰勩€佸巶鍟嗐€佸瀷鍙枫€佸簭鍒楀彿绛変俊鎭?# 绀轰緥锛?# TAPE_DEVICES_CACHE=[{"path": "\\.\scsi0", "vendor": "IBM", "model": "ULT3580-HH9", "generation": "R3G1", "serial": "XXXXXXXX", "status": "online", "is_ibm_lto": true}]
TAPE_DEVICES_CACHE=
