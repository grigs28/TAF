<!-- 常规设置 -->
<div class="tab-pane fade show active" id="general" role="tabpanel">
    <div class="row">
        <div class="col-md-6">
            <div class="setting-card service-card mb-3">
                <div class="card-body">
                    <h6 class="card-title">应用信息</h6>
                    <div class="mb-3">
                        <label class="form-label">应用名称</label>
                        <input type="text" class="form-control" id="appName" value="{{ app_name }}">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">版本号</label>
                        <input type="text" class="form-control" value="{{ version }}" readonly>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="setting-card service-card mb-3">
                <div class="card-body">
                    <h6 class="card-title">Web服务</h6>
                    <div class="mb-3">
                        <label class="form-label">监听地址</label>
                        <input type="text" class="form-control" id="webHost" value="0.0.0.0">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">监听端口</label>
                        <input type="number" class="form-control" id="webPort" value="8080">
                    </div>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="enableCors">
                        <label class="form-check-label" for="enableCors">启用CORS</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="setting-card service-card mb-3">
                <div class="card-body">
                    <h6 class="card-title">日志配置</h6>
                    <div class="mb-3">
                        <label class="form-label">日志级别</label>
                        <select class="form-select" id="logLevel">
                            <option value="DEBUG">DEBUG</option>
                            <option value="INFO">INFO</option>
                            <option value="WARNING">WARNING</option>
                            <option value="ERROR">ERROR</option>
                            <option value="CRITICAL">CRITICAL</option>
                        </select>
                        <small class="form-text text-secondary">
                            影响写入 <code>logs/application.log</code> 与系统日志的最低级别，保存后需重启服务生效。
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 磁带工具配置 -->
    <div class="row mt-3">
        <div class="col-md-6">
            <div class="setting-card service-card mb-3">
                <div class="card-body">
                    <h6 class="card-title">
                        <i class="bi bi-tools me-2"></i>ITDT工具配置
                    </h6>
                    <div class="mb-3">
                        <label class="form-label">ITDT可执行文件路径</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="itdtPath" 
                                   placeholder="如：D:\APP\TAF\ITDT\itdt.exe">
                            <button class="btn btn-outline-secondary" type="button" title="浏览文件">
                                <i class="bi bi-folder-open"></i>
                            </button>
                        </div>
                        <small class="form-text text-secondary">ITDT工具的完整路径</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">磁带设备路径</label>
                        <input type="text" class="form-control" id="itdtDevicePath" 
                               placeholder="Windows: \\.\Tape0">
                        <small class="form-text text-secondary">Windows磁带设备路径</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="setting-card service-card mb-3">
                <div class="card-body">
                    <h6 class="card-title">
                        <i class="bi bi-file-earmark-zip me-2"></i>LTFS工具配置
                    </h6>
                    <div class="mb-3">
                        <label class="form-label">LTFS工具目录</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="ltfsToolsDir" 
                                   placeholder="如：D:\APP\TAF\ITDT">
                            <button class="btn btn-outline-secondary" type="button" title="浏览文件夹">
                                <i class="bi bi-folder-open"></i>
                            </button>
                        </div>
                        <small class="form-text text-secondary">LTFS命令必须在此目录下执行</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">挂载盘符</label>
                        <input type="text" class="form-control" id="tapeDriveLetter" 
                               maxlength="1" style="text-transform: uppercase;"
                               placeholder="如：O">
                        <small class="form-text text-secondary">大写字母，不带冒号（程序会自动添加）</small>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">默认驱动器地址</label>
                        <input type="text" class="form-control" id="defaultDeviceAddress" 
                               placeholder="如：0.0.24.0" readonly>
                        <small class="form-text text-secondary">
                            SCSI地址（总线.目标.LUN.子LUN）<br>
                            使用"列出驱动器"命令可查看当前地址
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 格式化方式说明 -->
    <div class="row mt-3">
        <div class="col-12">
            <div class="service-card">
                <div class="card-body">
                    <h6 class="card-title">
                        <i class="bi bi-info-circle me-2"></i>磁带格式化方式说明
                    </h6>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="alert alert-info">
                                <h6><i class="bi bi-1-circle me-2"></i>LtfsCmdFormat.exe</h6>
                                <p class="mb-2"><strong>推荐使用</strong>（系统默认）</p>
                                <ul class="mb-0">
                                    <li>使用驱动器ID（如：0.0.24.0）</li>
                                    <li>支持卷标设置：/N:卷标名称</li>
                                    <li>支持序列号：/S:ABC123（6位大写）</li>
                                    <li>支持格式化后弹出：/E</li>
                                    <li>速度快，兼容性好</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="alert alert-secondary">
                                <h6><i class="bi bi-2-circle me-2"></i>mkltfs.exe</h6>
                                <p class="mb-2"><strong>备用方式</strong></p>
                                <ul class="mb-0">
                                    <li>使用设备地址（如：0.0.24.0）</li>
                                    <li>支持卷标：--volume-name 名称</li>
                                    <li>需要 --force 参数</li>
                                    <li>功能更强大但速度较慢</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <h6><i class="bi bi-question-circle me-2"></i>参数使用规则</h6>
                        <table class="table table-sm table-bordered">
                            <thead>
                                <tr>
                                    <th>命令</th>
                                    <th>参数格式</th>
                                    <th>示例</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>LtfsCmdDrives.exe</code></td>
                                    <td>无参数</td>
                                    <td><code>LtfsCmdDrives.exe</code></td>
                                </tr>
                                <tr>
                                    <td><code>LtfsCmdLoad.exe</code></td>
                                    <td>驱动器地址</td>
                                    <td><code>LtfsCmdLoad.exe 0.0.24.0</code></td>
                                </tr>
                                <tr>
                                    <td><code>LtfsCmdEject.exe</code></td>
                                    <td>驱动器地址</td>
                                    <td><code>LtfsCmdEject.exe 0.0.24.0</code></td>
                                </tr>
                                <tr>
                                    <td><code>LtfsCmdFormat.exe</code></td>
                                    <td>驱动器地址 + 选项</td>
                                    <td><code>LtfsCmdFormat.exe 0.0.24.0 /N:卷标 /S:ABC123 /E</code></td>
                                </tr>
                                <tr class="table-warning">
                                    <td><code>LtfsCmdAssign.exe</code></td>
                                    <td>驱动器地址 + 盘符(带冒号)</td>
                                    <td><code>LtfsCmdAssign.exe 0.0.24.0 O:</code></td>
                                </tr>
                                <tr>
                                    <td><code>LtfsCmdUnassign.exe</code></td>
                                    <td>驱动器地址</td>
                                    <td><code>LtfsCmdUnassign.exe 0.0.24.0</code></td>
                                </tr>
                                <tr>
                                    <td><code>mkltfs.exe</code></td>
                                    <td>-d 设备地址 --force</td>
                                    <td><code>mkltfs.exe -d 0.0.24.0 --force</code></td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="text-info small mb-0">
                            <i class="bi bi-info-circle me-1"></i>
                            <strong>驱动器地址 0.0.24.0</strong> 是SCSI地址（总线.目标.LUN.子LUN）<br>
                            使用 <code>LtfsCmdDrives.exe</code> 查看 "Address" 列获取当前地址
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

